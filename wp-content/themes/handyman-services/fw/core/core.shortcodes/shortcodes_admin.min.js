jQuery(document).ready(function(){HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter=",";HANDYMAN_SERVICES_STORAGE.shortcodes_popup=null;HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx="";HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_tab='<li id="handyman_services_shortcodes_tab_{id}" data-id="{id}"><a href="#handyman_services_shortcodes_tab_{id}_content"><span class="iconadmin-{icon}"></span>{title}</a></li>';HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_content="";jQuery("body").on("change",".sc_selector",function(){HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx=jQuery(this).find(":selected").val();if(HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx==""){return}var f=handyman_services_clone_object(HANDYMAN_SERVICES_SHORTCODES_DATA[HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx]);var g=f.title;var c="";try{c=tinyMCE.activeEditor?tinyMCE.activeEditor.selection.getContent({format:"raw"}):jQuery("#wp-content-editor-container textarea").selection()}catch(d){}if(c){for(var b in f.params){if(b=="_content_"){f.params[b].value=c;break}}}var a=(!handyman_services_empty(f.desc)?"<p>"+f.desc+"</p>":"")+handyman_services_shortcodes_prepare_layout(f);HANDYMAN_SERVICES_STORAGE.shortcodes_popup=handyman_services_message_dialog(a,g,function(e){handyman_services_options_init(e);e.find(".handyman_services_options_tab_content").css({maxHeight:jQuery(window).height()-300+"px",overflow:"auto"})},function(h,e){if(h!=1){return}var i=handyman_services_shortcodes_get_code(HANDYMAN_SERVICES_STORAGE.shortcodes_popup);if(tinyMCE.activeEditor){if(!tinyMCE.activeEditor.isHidden()){tinyMCE.activeEditor.execCommand("mceInsertContent",false,i)}else{send_to_editor(i)}}else{send_to_editor(i)}});jQuery(this).get(0).options[0].selected=true;HANDYMAN_SERVICES_STORAGE.shortcodes_popup.find(".handyman_services_shortcodes_tab").on("tabsbeforeactivate",function(i,h){if(h.newTab.data("id")=="add"){handyman_services_shortcodes_add_tab(h.newTab);i.stopImmediatePropagation();i.preventDefault();return false}});HANDYMAN_SERVICES_STORAGE.shortcodes_popup.find(".handyman_services_shortcodes_tab > ul").on("click","> li+li > a > span",function(j){var i=jQuery(this).parents("li");var h=i.data("id");if(parseInt(h)>1){if(i.hasClass("ui-state-active")){i.prev().find("a").trigger("click")}i.parents(".handyman_services_shortcodes_tab").find(".handyman_services_options_tab_content").eq(h).remove();i.remove();j.preventDefault();return false}});return false})});function handyman_services_shortcodes_get_code(a){HANDYMAN_SERVICES_STORAGE.sc_custom="";var f=HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx;var h=HANDYMAN_SERVICES_SHORTCODES_DATA[f];var j=a.find(".handyman_services_shortcodes_tab > ul > li");var l=!handyman_services_isset(h.decorate)||h.decorate;var c="["+f+handyman_services_shortcodes_get_code_from_tab(a.find("#handyman_services_shortcodes_tab_0_content").eq(0))+"]";if(handyman_services_isset(h.children)){if(HANDYMAN_SERVICES_STORAGE.sc_custom!="no"){var d=!handyman_services_isset(h.children.decorate)||h.children.decorate;for(var e=0;e<j.length;e++){var b=j.eq(e);var k=b.data("id");if(isNaN(k)||parseInt(k)<1){continue}var g=a.find("#handyman_services_shortcodes_tab_"+k+"_content").eq(0);c+=(d?"\n\t":"")+"["+h.children.name+handyman_services_shortcodes_get_code_from_tab(g)+"]";if(handyman_services_isset(h.children.container)&&h.children.container){if(g.find('[data-param="_content_"]').length>0){c+=g.find('[data-param="_content_"]').val()}c+="[/"+h.children.name+"]"}}}}else{if(handyman_services_isset(h.container)&&h.container&&a.find('#handyman_services_shortcodes_tab_0_content [data-param="_content_"]').length>0){c+=a.find('#handyman_services_shortcodes_tab_0_content [data-param="_content_"]').val()}}if(handyman_services_isset(h.container)&&h.container||handyman_services_isset(h.children)){c+=(handyman_services_isset(h.children)&&l&&HANDYMAN_SERVICES_STORAGE.sc_custom!="no"?"\n":"")+"[/"+f+"]"}return c}function handyman_services_shortcodes_get_code_from_tab(b){var e="";var d=b.attr("id").indexOf("tab_0")>0;b.find("[data-param]").each(function(){var g=jQuery(this);var h=g.data("param");if(!g.parents(".handyman_services_options_field").hasClass("handyman_services_options_no_use")&&h.substr(0,1)!="_"&&!handyman_services_empty(g.val())&&g.val()!="none"&&(g.attr("type")!="checkbox"||g.get(0).checked)){e+=" "+h+'="'+handyman_services_shortcodes_prepare_value(g.val())+'"'}if(d&&h=="custom"){HANDYMAN_SERVICES_STORAGE.sc_custom=g.val()}});if(HANDYMAN_SERVICES_STORAGE.sc_custom!="no"&&d){var f=HANDYMAN_SERVICES_SHORTCODES_DATA[HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx];var c=HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx;if(c=="trx_columns"||c=="trx_skills"||c=="trx_team"||c=="trx_price_table"){var a=0;b.siblings("div").each(function(){var g=jQuery(this);var h=parseInt(g.find('[data-param="span"]').val());a+=!isNaN(h)&&h>0?h:1});e+=' count="'+a+'"'}}return e}function handyman_services_shortcodes_prepare_layout(b){b.params=[b.params];if(!handyman_services_empty(b.children)){b.children.params=[b.children.params]}var a='<div class="handyman_services_shortcodes_body handyman_services_options_body"><form>';a+=handyman_services_shortcodes_show_tabs(b);a+=handyman_services_shortcodes_show_field(b,0);if(!handyman_services_empty(b.children)){HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_content=handyman_services_shortcodes_show_field(b.children,1);a+=HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_content}a+="</div></form></div>";return a}function handyman_services_shortcodes_show_tabs(c){var a='<div class="handyman_services_shortcodes_tab handyman_services_options_container handyman_services_options_tab"><ul>'+HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_tab.replace(/{id}/g,0).replace("{icon}","cog").replace("{title}","General");if(handyman_services_isset(c.children)){for(var b=0;b<c.children.params.length;b++){a+=HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_tab.replace(/{id}/g,b+1).replace("{icon}","cancel").replace("{title}",c.children.title+" "+(b+1))}a+=HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_tab.replace(/{id}/g,"add").replace("{icon}","list-add").replace("{title}","")}a+="</ul>";return a}function handyman_services_shortcodes_add_tab(b){var a=0;b.siblings().each(function(){var c=parseInt(jQuery(this).data("id"));if(c>a){a=c}});a++;b.before(HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_tab.replace(/{id}/g,a).replace("{icon}","cancel").replace("{title}",HANDYMAN_SERVICES_SHORTCODES_DATA[HANDYMAN_SERVICES_STORAGE.shortcodes_current_idx].children.title+" "+a));b.parents(".handyman_services_shortcodes_tab").append(HANDYMAN_SERVICES_STORAGE.shortcodes_tab_clone_content.replace(/tab_1_/g,"tab_"+a+"_"));b.parents(".handyman_services_shortcodes_tab").tabs("refresh");handyman_services_options_init(b.parents(".handyman_services_shortcodes_tab").find(".handyman_services_options_tab_content").eq(a));b.prev().find("a").trigger("click")}function handyman_services_shortcodes_show_field(b,n){var h="";for(var e in b.params){var w="tab_"+(parseInt(n)+parseInt(e));h+='<div id="handyman_services_shortcodes_'+w+'_content" class="handyman_services_options_content handyman_services_options_tab_content">';for(var p in b.params[e]){var g=b.params[e][p];var q=w+"_"+p;var r=handyman_services_isset(g.divider)&&g.divider?" handyman_services_options_divider":"";if(g.type=="media"){if(!handyman_services_isset(g.before)){g.before={}}g.before=handyman_services_merge_objects({title:"Choose image",action:"media_upload",type:"image",multiple:false,sizes:false,linked_field:"",captions:{choose:"Choose image",update:"Select image"}},g.before);if(!handyman_services_isset(g.after)){g.after={}}g.after=handyman_services_merge_objects({icon:"iconadmin-cancel",action:"media_reset"},g.after)}if(g.type=="color"&&(HANDYMAN_SERVICES_STORAGE.shortcodes_cp=="tiny"||(handyman_services_isset(g.style)&&g.style!="wp"))){if(!handyman_services_isset(g.after)){g.after={}}g.after=handyman_services_merge_objects({icon:"iconadmin-cancel",action:"color_reset"},g.after)}var m="",d="",u="",v,f,t,y,a;if(handyman_services_isset(g.before)){v=handyman_services_shortcodes_action_button(g.before,"before");m=v[0];u+=v[1]}if(handyman_services_isset(g.after)){v=handyman_services_shortcodes_action_button(g.after,"after");d=v[0];u+=v[1]}if(handyman_services_in_array(g.type,["list","select","fonts"])||(g.type=="socials"&&(handyman_services_empty(g.style)||g.style=="icons"))){u+=" handyman_services_options_button_after_small"}if(g.type!="hidden"){h+='<div class="handyman_services_options_field handyman_services_options_field_'+(handyman_services_in_array(g.type,["list","fonts"])?"select":g.type)+(handyman_services_in_array(g.type,["media","fonts","list","select","socials","date","time"])?" handyman_services_options_field_text":"")+(g.type=="socials"&&!handyman_services_empty(g.style)&&g.style=="images"?" handyman_services_options_field_images":"")+(g.type=="socials"&&(handyman_services_empty(g.style)||g.style=="icons")?" handyman_services_options_field_icons":"")+(handyman_services_isset(g.dir)&&g.dir=="vertical"?" handyman_services_options_vertical":"")+(!handyman_services_empty(g.multiple)?" handyman_services_options_multiple":"")+(handyman_services_isset(g.size)?" handyman_services_options_size_"+g.size:"")+(handyman_services_isset(g["class"])?" "+g["class"]:"")+r+'">\n<label class="handyman_services_options_field_label" for="'+q+'">'+g.title+'</label>\n<div class="handyman_services_options_field_content'+u+'">\n'}if(!handyman_services_isset(g.value)){g.value=""}switch(g.type){case"hidden":h+='<input class="handyman_services_options_input handyman_services_options_input_hidden" name="'+q+'" id="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'" />';break;case"date":if(handyman_services_isset(g.style)&&g.style=="inline"){h+='<div class="handyman_services_options_input_date" id="'+q+'_calendar" data-format="'+(!handyman_services_empty(g.format)?g.format:"yy-mm-dd")+'" data-months="'+(!handyman_services_empty(g.months)?max(1,min(3,g.months)):1)+'" data-linked-field="'+(!handyman_services_empty(data.linked_field)?data.linked_field:q)+'"></div><input id="'+q+'" name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"}else{h+='<input class="handyman_services_options_input handyman_services_options_input_date'+(!handyman_services_empty(g.mask)?" handyman_services_options_input_masked":"")+'" name="'+q+'" id="'+q+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-format="'+(!handyman_services_empty(g.format)?g.format:"yy-mm-dd")+'" data-months="'+(!handyman_services_empty(g.months)?max(1,min(3,g.months)):1)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"+m+d}break;case"text":h+='<input class="handyman_services_options_input handyman_services_options_input_text'+(!handyman_services_empty(g.mask)?" handyman_services_options_input_masked":"")+'" name="'+q+'" id="'+q+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value)+'"'+(!handyman_services_empty(g.mask)?' data-mask="'+g.mask+'"':"")+' data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"+m+d;break;case"textarea":var l=handyman_services_isset(g.cols)&&g.cols>10?g.cols:"40";var k=handyman_services_isset(g.rows)&&g.rows>1?g.rows:"8";h+='<textarea class="handyman_services_options_input handyman_services_options_input_textarea" name="'+q+'" id="'+q+'" cols="'+l+'" rows="'+k+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+">"+g.value+"</textarea>";break;case"spinner":h+='<input class="handyman_services_options_input handyman_services_options_input_spinner'+(!handyman_services_empty(g.mask)?" handyman_services_options_input_masked":"")+'" name="'+q+'" id="'+q+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value)+'"'+(!handyman_services_empty(g.mask)?' data-mask="'+g.mask+'"':"")+(handyman_services_isset(g.min)?' data-min="'+g.min+'"':"")+(handyman_services_isset(g.max)?' data-max="'+g.max+'"':"")+(!handyman_services_empty(g.step)?' data-step="'+g.step+'"':"")+' data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+' /><span class="handyman_services_options_arrows"><span class="handyman_services_options_arrow_up iconadmin-up-dir"></span><span class="handyman_services_options_arrow_down iconadmin-down-dir"></span></span>';break;case"tags":var o=g.value.split(HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter);if(o.length>0){for(t=0;t<o.length;t++){if(handyman_services_empty(o[t])){continue}h+='<span class="handyman_services_options_tag iconadmin-cancel">'+o[t]+"</span>"}}h+='<input class="handyman_services_options_input_tags" type="text" value="" /><input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"checkbox":h+='<input type="checkbox" class="handyman_services_options_input handyman_services_options_input_checkbox" name="'+q+'" id="'+q+'" value="true"'+(g.value=="true"?' checked="checked"':"")+(!handyman_services_empty(g.disabled)?' readonly="readonly"':"")+' data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+' /><label for="'+q+'" class="'+(!handyman_services_empty(g.disabled)?"handyman_services_options_state_disabled":"")+(g.value=="true"?" handyman_services_options_state_checked":"")+'"><span class="handyman_services_options_input_checkbox_image iconadmin-check"></span>'+(!handyman_services_empty(g.label)?g.label:g.title)+"</label>";break;case"radio":for(y in g.options){h+='<span class="handyman_services_options_radioitem"><input class="handyman_services_options_input handyman_services_options_input_radio" type="radio" name="'+q+'" value="'+handyman_services_shortcodes_prepare_value(y)+'" data-value="'+handyman_services_shortcodes_prepare_value(y)+'"'+(g.value==y?' checked="checked"':"")+' id="'+q+"_"+y+'" /><label for="'+q+"_"+y+'"'+(g.value==y?' class="handyman_services_options_state_checked"':"")+'><span class="handyman_services_options_input_radio_image iconadmin-circle-empty'+(g.value==y?" iconadmin-dot-circled":"")+'"></span>'+g.options[y]+"</label></span>"}h+='<input type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"switch":a=[];t=0;for(y in g.options){a[t++]={key:y,title:g.options[y]};if(t==2){break}}h+='<input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(handyman_services_empty(g.value)?a[0]["key"]:g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+' /><span class="handyman_services_options_switch'+(g.value==a[1]["key"]?" handyman_services_options_state_off":"")+'"><span class="handyman_services_options_switch_inner iconadmin-circle"><span class="handyman_services_options_switch_val1" data-value="'+a[0]["key"]+'">'+a[0]["title"]+'</span><span class="handyman_services_options_switch_val2" data-value="'+a[1]["key"]+'">'+a[1]["title"]+"</span></span></span>";break;case"media":h+='<input class="handyman_services_options_input handyman_services_options_input_text handyman_services_options_input_media" name="'+q+'" id="'+q+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value)+'"'+(!handyman_services_isset(g.readonly)||g.readonly?' readonly="readonly"':"")+' data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"+m+d;if(!handyman_services_empty(g.value)){var x=handyman_services_get_file_name(g.value);var j=handyman_services_get_file_ext(g.value);h+='<a class="handyman_services_options_image_preview" rel="prettyPhoto" target="_blank" href="'+g.value+'">'+(j!=""&&handyman_services_in_list("jpg,png,gif",j,",")?'<img src="'+g.value+'" alt="" />':"<span>"+x+"</span>")+"</a>"}break;case"button":v=handyman_services_shortcodes_action_button(g,"button");h+=v[0];break;case"range":h+='<div class="handyman_services_options_input_range" data-step="'+(!handyman_services_empty(g.step)?g.step:1)+'"><span class="handyman_services_options_range_scale"><span class="handyman_services_options_range_scale_filled"></span></span>';if(g.value.toString().indexOf(HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter)==-1){g.value=Math.min(g.max,Math.max(g.min,g.value))}var s=g.value.toString().split(HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter);for(t=0;t<s.length;t++){h+='<span class="handyman_services_options_range_slider"><span class="handyman_services_options_range_slider_value">'+s[t]+'</span><span class="handyman_services_options_range_slider_button"></span></span>'}h+='<span class="handyman_services_options_range_min">'+g.min+'</span><span class="handyman_services_options_range_max">'+g.max+'</span><input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" /></div>";break;case"checklist":for(y in g.options){h+='<span class="handyman_services_options_listitem'+(handyman_services_in_list(g.value,y,HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter)?" handyman_services_options_state_checked":"")+'" data-value="'+handyman_services_shortcodes_prepare_value(y)+'">'+g.options[y]+"</span>"}h+='<input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"fonts":for(y in g.options){g.options[y]=y}case"list":case"select":if(!handyman_services_isset(g.options)&&!handyman_services_empty(g.from)&&!handyman_services_empty(g.to)){g.options=[];for(t=g.from;t<=g.to;t+=(!handyman_services_empty(g.step)?g.step:1)){g.options[t]=t}}v=handyman_services_shortcodes_menu_list(g);if(handyman_services_empty(g.style)||g.style=="select"){h+='<input class="handyman_services_options_input handyman_services_options_input_select" type="text" value="'+handyman_services_shortcodes_prepare_value(v[1])+'" readonly="readonly" /><span class="handyman_services_options_field_after handyman_services_options_with_action iconadmin-down-open" onchange="handyman_services_options_action_show_menu(this);return false;"></span>'}h+=v[0]+'<input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"images":v=handyman_services_shortcodes_menu_list(g);if(handyman_services_empty(g.style)||g.style=="select"){h+='<div class="handyman_services_options_caption_image iconadmin-down-open"><span style="background-image: url('+v[1]+')"></span></div>'}h+=v[0]+'<input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"icons":v=handyman_services_shortcodes_menu_list(g);if(handyman_services_empty(g.style)||g.style=="select"){h+='<div class="handyman_services_options_caption_icon iconadmin-down-open"><span class="'+v[1]+'"></span></div>'}h+=v[0]+'<input name="'+q+'" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value)+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />";break;case"socials":if(!handyman_services_is_object(g.value)){g.value={url:"",icon:""}}v=handyman_services_shortcodes_menu_list(g);if(handyman_services_empty(g.style)||g.style=="icons"){f=handyman_services_shortcodes_action_button({action:handyman_services_empty(g.style)||g.style=="icons"?"select_icon":"",icon:(handyman_services_empty(g.style)||g.style=="icons")&&!handyman_services_empty(g.value["icon"])?g.value["icon"]:"iconadmin-users"},"after")}else{f=["",""]}h+='<input class="handyman_services_options_input handyman_services_options_input_text handyman_services_options_input_socials'+(!handyman_services_empty(g.mask)?" handyman_services_options_input_masked":"")+'" name="'+q+'" id="'+q+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value["url"])+'"'+(!handyman_services_empty(g.mask)?' data-mask="'+g.mask+'"':"")+' data-param="'+handyman_services_shortcodes_prepare_value(p)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"+f[0];if(!handyman_services_empty(g.style)&&g.style=="images"){h+='<div class="handyman_services_options_caption_image iconadmin-down-open"><span style="background-image: url('+v[1]+')"></span></div>'}h+=v[0]+'<input name="'+q+'_icon" type="hidden" value="'+handyman_services_shortcodes_prepare_value(g.value["icon"])+'" />';break;case"color":var c=handyman_services_isset(g.style)?g.style:HANDYMAN_SERVICES_STORAGE.shortcodes_cp;h+='<input class="handyman_services_options_input handyman_services_options_input_color handyman_services_options_input_color_'+c+'" name="'+q+'" id="'+q+'" data-param="'+handyman_services_shortcodes_prepare_value(p)+'" type="text" value="'+handyman_services_shortcodes_prepare_value(g.value)+'"'+(!handyman_services_empty(g.action)?' onchange="handyman_services_options_action_'+g.action+'(this);return false;"':"")+" />"+m;if(c=="custom"){h+='<span class="handyman_services_options_input_colorpicker iColorPicker"></span>'}else{if(c=="tiny"){h+=d}}break}if(g.type!="hidden"){h+="</div>";if(!handyman_services_empty(g.desc)){h+='<div class="handyman_services_options_desc">'+g.desc+"</div>\n"}h+="</div>\n"}}h+="</div>"}return h}function handyman_services_shortcodes_menu_list(f){if(f.type=="socials"){f.value=f.value["icon"]}var e='<div class="handyman_services_options_input_menu '+(handyman_services_empty(f.style)?"":" handyman_services_options_input_menu_"+f.style)+'">';var a="";for(var b in f.options){var d=f.options[b];if(handyman_services_in_array(f.type,["list","icons","socials"])){b=d}var c="";if(handyman_services_in_list(f.value,b,HANDYMAN_SERVICES_STORAGE.shortcodes_delimiter)){a=d;c=" handyman_services_options_state_checked"}e+='<span class="handyman_services_options_menuitem'+c+'" data-value="'+handyman_services_shortcodes_prepare_value(b)+'">';if(handyman_services_in_array(f.type,["list","select","fonts"])){e+=d}else{if(f.type=="icons"||(f.type=="socials"&&f.style=="icons")){e+='<span class="'+d+'"></span>'}else{if(f.type=="images"||(f.type=="socials"&&f.style=="images")){e+='<span style="background-image:url('+d+')" data-src="'+d+'" data-icon="'+b+'" class="handyman_services_options_input_image"></span>'}}}e+="</span>"}e+="</div>";return[e,a]}function handyman_services_shortcodes_action_button(d,b){var c=" handyman_services_options_button_"+b+(handyman_services_empty(d.title)?" handyman_services_options_button_"+b+"_small":"");var a='<span class="'+(b=="button"?"handyman_services_options_input_button":"handyman_services_options_field_"+b)+(!handyman_services_empty(d.action)?" handyman_services_options_with_action":"")+(!handyman_services_empty(d.icon)?" "+d.icon:"")+'"'+(!handyman_services_empty(d.icon)&&!handyman_services_empty(d.title)?' title="'+handyman_services_shortcodes_prepare_value(d.title)+'"':"")+(!handyman_services_empty(d.action)?' onclick="handyman_services_options_action_'+d.action+'(this);return false;"':"")+(!handyman_services_empty(d.type)?' data-type="'+d.type+'"':"")+(!handyman_services_empty(d.multiple)?' data-multiple="'+d.multiple+'"':"")+(!handyman_services_empty(d.sizes)?' data-sizes="'+d.sizes+'"':"")+(!handyman_services_empty(d.linked_field)?' data-linked-field="'+d.linked_field+'"':"")+(!handyman_services_empty(d.captions)&&!handyman_services_empty(d.captions["choose"])?' data-caption-choose="'+handyman_services_shortcodes_prepare_value(d.captions["choose"])+'"':"")+(!handyman_services_empty(d.captions)&&!handyman_services_empty(d.captions["update"])?' data-caption-update="'+handyman_services_shortcodes_prepare_value(d.captions["update"])+'"':"")+">"+(b=="button"||(handyman_services_empty(d.icon)&&!handyman_services_empty(d.title))?d.title:"")+"</span>";return[a,c]}function handyman_services_shortcodes_prepare_value(a){return typeof a=="string"?a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a};